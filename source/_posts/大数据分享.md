---
abbrlink: 3841147a
title: 大数据第五章MongoDB数据库练习（不用安装MongoDB数据库！）
comments: true
date: 2023-05-14 16:36:40
tags:
excerpt: 1
--- 

下载连接MongoDB的MongoDB Shell。
[Mac系统安装点我](https://pan.baidu.com/s/1ZPRwSbpF7o07NPwuPD1Fuw?pwd=fwt9)
[其他系统安装点我](https://www.mongodb.com/try/download/shell)
通过终端进入到MongoDB Shell目录，打开终端（注意这里的mongo目录是你刚才下载的文件夹的名字）

``` javascript
cd mongo/bin/
```

输入以下命令连接MongoDB

``` javascript
mongosh.exe "mongodb://root:ABcd12345@dds-bp1ec6030bbe63e41500-pub.mongodb.rds.aliyuncs.com:3717/admin?replicaSet=dds-bp1ec6030bbe63e4"
```

若出现dds-bp1ec6030bbe63e4 [primary] admin> 则连接成功

Shell命令怎么写可以看老师发的NOSQL上机手册。

[NOSQL上机手册下载](https://pan.baidu.com/s/1p9hxzUWXujuVBVM4dO-bgQ?pwd=n8i9)

以下为eclipse中用Java代码连接

下载eclipse和jar包
[eclipse下载](https://www.eclipse.org/downloads/)
[连接需要的jar包下载](https://pan.baidu.com/s/1sVfi_B1o3T4Z-67i3mDjIQ?pwd=rpfa)

创建项目

[项目文件下载](https://pan.baidu.com/s/1rEvT5lq6D6zhQxKHQPSYYw?pwd=xuax)

导入到eclipse中（应该会吧）

把上面下载的jar包添加到项目中。（若项目中有则忽略这步）

![配置jar包](https://pic1.imgdb.cn/item/6468b1eae03e90d8741e0c45.png)

![添加jar包](https://pic1.imgdb.cn/item/6468b240e03e90d8741e97d1.png)

然后找的刚才下载的jar包。最后点击添加

打开Main类。将里面的Java代码替换为下面的代码。然后运行即可

``` javascript
import org.bson.Document;

import com.mongodb.MongoClient;
import com.mongodb.MongoClientURI;
import com.mongodb.client.MongoCollection;
import com.mongodb.client.MongoDatabase;

public class Main {
	public static void main(String[] args) {
		insert();
	}
    public static MongoClient createMongoDBClientWithURI() {
        MongoClientURI connectionString = new MongoClientURI("mongodb://root:ABcd12345@dds-bp1ec6030bbe63e41500-pub.mongodb.rds.aliyuncs.com:3717/admin?replicaSet=dds-bp1ec6030bbe63e4");
        return new MongoClient(connectionString);
}
	public static void insert() {
		MongoCollection<Document> collectioin = getCollection("TestDB", "testC");
		Document doc =new Document("sname", "Bob2").append("sage", 28);
		collectioin.insertOne(doc);
		System.out.println("Success");
	}

	public static MongoCollection<Document> getCollection(String dbName, String cName) {
//		MongoClient mongoClient = new MongoClient("localhost", 27017);
		MongoClient mongoClient = createMongoDBClientWithURI();
		MongoDatabase db = mongoClient.getDatabase(dbName);
		MongoCollection collection = db.getCollection(cName);
		return collection;

	}
	
}

```

可以通过上面的Shell命令查看刚才的表（集合）是否创建